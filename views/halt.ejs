<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Halt Registration</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(120deg, #232946 0%, #181c2f 100%);
      font-family: 'Poppins', sans-serif;
      color: #fff;
    }
    .admin-section {
      background: rgba(35, 41, 70, 0.97);
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      padding: 2.5rem 3.5rem;
      text-align: center;
      border: 2px solid #ff512f;
    }
    .admin-section h1 {
      font-size: 2.2rem;
      margin-bottom: 1rem;
      color: #ff512f;
      letter-spacing: 1px;
    }
    .admin-section p {
      font-size: 1.1rem;
      color: #fff;
      margin-bottom: 0;
    }
    @media (max-width: 600px) {
      .admin-section {
        padding: 1.2rem 0.7rem;
      }
      .admin-section h1 {
        font-size: 1.3rem;
      }
    }
  </style>
</head>
<body>
       <div style="width:100%;position:fixed;top:0;left:0;z-index:100;">
      <%- include("adminHeader", { username: typeof username !== 'undefined' ? username : null }); %>
    </div>
    <div style="margin-top:80px; display: flex; justify-content: center; align-items: flex-start; gap: 2.5rem; width: 100%; max-width: 1100px;">
      <!-- Active Events Section -->
      <div class="admin-section" style="margin-top:0; min-width: 340px; flex: 1;">
        <h1>Active Events</h1>
        <% if (typeof events !== 'undefined' && events.filter(ev => ev.halt === 0).length > 0) { %>
          <div style="max-height: 400px; overflow-y: auto;">
            <% events.filter(ev => ev.halt === 0).forEach(function(ev) { %>
              <div style="background: rgba(35, 41, 70, 0.8); border-radius: 10px; padding: 1rem; margin-bottom: 1rem; border: 1px solid #43cea2;">
                <div style="font-size: 1.2rem; font-weight: 600; color: #ffb347; margin-bottom: 0.5rem;"><%= ev.event %></div>
                <div style="color: #fff; margin-bottom: 0.5rem;">Type: <%= ev.type %> | Venue: <%= ev.venue %> | Time: <%= ev.time %></div>
                <form action="/halt/<%= ev._id %>" method="POST" style="display: inline;">
                  <button type="submit" style="background: #ff512f; border: none; color: #fff; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                    Halt
                  </button>
                </form>
              </div>
            <% }); %>
          </div>
        <% } else { %>
          <div style="color:#ffb347; text-align:center; margin-top:1.5rem;">No active events.</div>
        <% } %>
      </div>
      <!-- Halted Events Section -->
      <div class="admin-section" style="background:rgba(30,34,54,0.98); min-width:340px; flex:1; max-width:420px;">
        <h1>Halted Events</h1>
        <% if (typeof events !== 'undefined' && events.filter(ev => ev.halt === 1).length > 0) { %>
          <div style="max-height: 400px; overflow-y: auto;">
            <% events.filter(ev => ev.halt === 1).forEach(function(ev) { %>
              <div style="background: rgba(35, 41, 70, 0.8); border-radius: 10px; padding: 1rem; margin-bottom: 1rem; border: 1px solid #ff512f;">
                <div style="font-size: 1.2rem; font-weight: 600; color: #ffb347; margin-bottom: 0.5rem;"><%= ev.event %></div>
                <div style="color: #fff; margin-bottom: 0.5rem;">Type: <%= ev.type %> | Venue: <%= ev.venue %> | Time: <%= ev.time %></div>
                <form action="/halt/<%= ev._id %>" method="POST" style="display: inline;">
                  <button type="submit" style="background: #43cea2; border: none; color: #fff; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-size: 1rem;">
                    Resume
                  </button>
                </form>
              </div>
            <% }); %>
          </div>
        <% } else { %>
          <div style="color:#ffb347; text-align:center; margin-top:1.5rem;">No halted events.</div>
        <% } %>
      </div>
    </div>
</body>
</html>
